version: '3.3'
services:
  proxy:
    container_name: proxy
    image: wdennington/proxy:latest
    build: ./nginx
    ports:
    - target: 80
      published: 80
  backend:
    container_name: backend
    image: wdennington/backend:latest
    build: ./spring-petclinic-rest-api
    ports:
    - target: 9966
      published: 9966
  frontend:
    container_name: frontend
    image: wdennington/frontend:latest
    build: ./spring-petclinic-angular
    ports:
    - target: 8081
      published: 8081
  database:
    container_name: database
    image: wdennington/database:latest
    build: ./database
    environment:
      MYSQL_USER: root
      MYSQL_PASSWORD: petclinic
      MYSQL_ROOT_PASSWORD: petclinic
      MYSQL_DATABASE: petclinic
    ports:
    - target: 3306
      published: 3306
    # volumes:
    # - type: bind
    #   source:
    #   target:


  

             